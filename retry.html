<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>One Quick Step - Tal on WhatsApp</title>
    <meta name="description" content="One more step to chat with Tal on WhatsApp">
    <meta name="theme-color" content="#ff6b35">

    <!-- Open Graph -->
    <meta property="og:title" content="Chat with Tal">
    <meta property="og:description" content="Your personal career agent on WhatsApp">
    <meta property="og:type" content="website">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="card">
        <!-- Progress indicator -->
        <div class="progress-dots" id="progressDots">
            <span class="dot" id="dot1"></span>
            <span class="dot active" id="dot2"></span>
        </div>
        <div class="step-label" id="stepLabel">Step 2 of 2</div>

        <!-- Initial State Heading -->
        <h1 id="initialHeading">LinkedIn is worse on Android.</h1>
        <!-- Final State Heading (hidden initially) -->
        <h1 id="finalHeading" class="hidden">One more tap.</h1>

        <div class="company-pill" id="companyPill"></div>

        <!-- Instruction image - rename this to match your actual file -->
        <div class="retry-image-wrapper" id="retryImageWrapper">
            <img
                src="./retry-instruction.png"
                alt="Tap Retry in the popup"
                class="retry-image"
                id="retryImage"
            >
            <!-- Fallback text if image doesn't load -->
            <noscript>Look for the "Retry" button in the popup</noscript>
        </div>

        <!-- Initial State Subtext -->
        <p class="subtext" id="initialSubtext">
            Tap <strong>Retry</strong> once. You're one step closer to your dreams.
        </p>

        <!-- Final State Subtext (hidden initially) -->
        <p class="subtext hidden" id="finalSubtext">
            If WhatsApp didn't open, tap below.
        </p>

        <button
            type="button"
            class="btn-primary"
            id="retryBtn"
            aria-label="Retry opening WhatsApp"
        >
            <span id="retryBtnText">Retry</span>
        </button>

        <!-- Fallback link (hidden initially) -->
        <a
            href="#"
            class="link-secondary hidden"
            id="fallbackLink"
            aria-label="Open WhatsApp in browser as fallback"
        >
            Open in browser (fallback)
        </a>

    </div>

    <script src="app.js"></script>
    <script>
        // =============================================
        // UI-ONLY: Configure retry instruction image
        // Rename this to match your actual image file
        // =============================================
        const RETRY_IMAGE_SRC = "./retry-instruction.png"; // <-- rename to match your file

        (function() {
            var img = document.getElementById('retryImage');
            if (img) {
                img.src = RETRY_IMAGE_SRC;
                img.onerror = function() {
                    // Hide image wrapper if image fails to load
                    var wrapper = document.getElementById('retryImageWrapper');
                    if (wrapper) wrapper.style.display = 'none';
                };
            }
        })();
    </script>
</body>
</html>
